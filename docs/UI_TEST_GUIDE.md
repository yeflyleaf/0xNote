# 🎯 0xNote 手动 UI 测试指南

本文档提供详细的手动测试步骤，用于验证 UI 功能是否正常工作。

---

## 🚀 启动应用

### 方法 1: Electron 开发模式

```bash
npm run electron:dev
```

### 方法 2: 使用构建的便携版

```bash
"release/win-unpacked/0xNote.exe"
```

### 方法 3: 纯 Web 模式

```bash
npm run dev
# 然后在浏览器访问 http://localhost:5173
```

---

## ✅ 测试检查清单

### 1. 界面基础测试

| 测试项       | 预期结果                 | 实际结果 |
| ------------ | ------------------------ | -------- |
| 应用窗口显示 | 看到 0xNote 主界面       | ☐        |
| 标题栏显示   | 左上角有 "0xNote" Logo   | ☐        |
| 分栏布局     | 左侧编辑器，右侧预览面板 | ☐        |
| 状态栏       | 底部显示状态信息         | ☐        |

### 2. 视图模式切换测试

**操作位置**: 标题栏右侧有3个小按钮 (⬚ ✏️ 👁️)

| 按钮         | 预期效果                 | 实际结果 |
| ------------ | ------------------------ | -------- |
| ⬚ (分栏模式) | 同时显示编辑器和预览面板 | ☐        |
| ✏️ (仅编辑)  | 只显示编辑器，隐藏预览   | ☐        |
| 👁️ (仅预览)  | 只显示预览，隐藏编辑器   | ☐        |

### 3. 编辑器功能测试

在编辑器中输入以下 Markdown：

````markdown
# 测试标题

这是 **粗体** 和 _斜体_ 文本。

- 列表项 1
- 列表项 2

```javascript
console.log('Hello')
```
````

| 测试项     | 预期结果                | 实际结果 |
| ---------- | ----------------------- | -------- |
| 文字输入   | 能正常输入文字          | ☐        |
| 语法高亮   | Markdown 语法有颜色区分 | ☐        |
| 代码块高亮 | JavaScript 代码有高亮   | ☐        |
| 行号显示   | 左侧显示行号            | ☐        |

### 4. 预览面板测试

| 测试项     | 预期结果           | 实际结果 |
| ---------- | ------------------ | -------- |
| 标题渲染   | # 标题显示为大号字 | ☐        |
| 粗体/斜体  | 文本样式正确显示   | ☐        |
| 列表渲染   | 显示为项目列表     | ☐        |
| 代码块样式 | 代码有背景色和高亮 | ☐        |
| 实时更新   | 编辑后预览自动刷新 | ☐        |

### 5. 设置模态框测试

**操作**: 点击标题栏右侧的 ⚙️ 齿轮图标

| 测试项       | 预期结果                 | 实际结果 |
| ------------ | ------------------------ | -------- |
| 打开设置     | 弹出设置模态框           | ☐        |
| 主题切换     | 有暗色/亮色/跟随系统选项 | ☐        |
| 字体大小滑块 | 可调节 12-24px           | ☐        |
| 字体家族选择 | 下拉框有多种字体选项     | ☐        |
| 自动保存开关 | Toggle 按钮可切换        | ☐        |
| 保存按钮     | 点击后关闭并保存设置     | ☐        |
| 取消按钮     | 点击后关闭不保存         | ☐        |
| 恢复默认     | 重置所有设置             | ☐        |
| ESC 关闭     | 按 ESC 键关闭模态框      | ☐        |

### 6. 文件操作测试

| 测试项    | 预期结果                       | 实际结果 |
| --------- | ------------------------------ | -------- |
| 新建 (📄) | 清空编辑器，文件名显示"未命名" | ☐        |
| 打开 (📂) | 弹出文件选择对话框             | ☐        |
| 保存 (💾) | 有修改时可点击，触发保存       | ☐        |
| Ctrl+S    | 快捷键保存                     | ☐        |
| 自动保存  | 编辑后1秒自动保存（如果开启）  | ☐        |

### 7. 主题测试

| 测试项       | 预期结果                | 实际结果 |
| ------------ | ----------------------- | -------- |
| 暗色主题     | 深色背景，护眼配色      | ☐        |
| 亮色主题     | 浅色背景                | ☐        |
| 主题切换按钮 | 标题栏 🌙/☀️ 按钮可切换 | ☐        |

### 8. 状态指示器测试

| 状态     | 预期显示                     | 实际结果 |
| -------- | ---------------------------- | -------- |
| 已保存   | ✓ 已保存 (绿色)              | ☐        |
| 未保存   | ● 未保存 (橙色)              | ☐        |
| 保存中   | ↻ 保存中... (蓝色，旋转动画) | ☐        |
| 保存失败 | ✕ 保存失败 (红色)            | ☐        |

---

## 🔒 安全测试

### XSS 防护测试

在编辑器中输入以下内容，预览面板**不应该**执行这些代码：

```markdown
<script>alert('XSS')</script>

<img src="x" onerror="alert('XSS')">

<a href="javascript:alert('XSS')">点击</a>
```

| 测试项           | 预期结果         | 实际结果 |
| ---------------- | ---------------- | -------- |
| script 标签      | 被过滤，不执行   | ☐        |
| onerror 事件     | 被过滤，不执行   | ☐        |
| javascript: 链接 | 被过滤或不可点击 | ☐        |

---

## ⌨️ 快捷键测试

| 快捷键           | 功能     | 实际结果 |
| ---------------- | -------- | -------- |
| Ctrl + S         | 保存文件 | ☐        |
| Ctrl + Z         | 撤销     | ☐        |
| Ctrl + Shift + Z | 重做     | ☐        |

---

## 📊 测试结果汇总

- 通过: \_\_\_ 项
- 失败: \_\_\_ 项
- 未测试: \_\_\_ 项

测试人员: ******\_\_\_******
测试日期: ******\_\_\_******
