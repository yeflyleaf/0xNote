# 🔍 0xNote 生产环境健壮性检查清单

> 发布 GitHub Release 前的最终验收检查

## ✅ 功能测试

### 1. 大文件测试

- [ ] 打开 1MB 的 `.md` 文件，检查加载时间（应 < 2 秒）
- [ ] 打开 5MB 的 `.md` 文件，滚动是否流畅
- [ ] 在大文件中编辑，输入是否有明显延迟
- [ ] 预览面板在大文件下的渲染性能

### 2. 异常恢复

- [ ] 编辑内容后强制关闭应用（任务管理器结束进程）
- [ ] 重新启动，检查 localStorage 中是否有临时内容
- [ ] 检查自动保存是否正常工作
- [ ] 文件写入失败时的错误提示是否清晰

### 3. 路径兼容性测试

- [ ] 测试中文路径：`D:\文档\笔记\测试.md`
- [ ] 测试带空格的路径：`D:\My Documents\note test.md`
- [ ] 测试超长路径（260+ 字符）
- [ ] 测试特殊字符路径：`D:\files [2024]\note(1).md`
- [ ] 通过右键菜单打开上述所有路径的文件

### 4. 快捷键测试

- [ ] `Ctrl + S` 保存功能正常
- [ ] `Ctrl + Z` 撤销功能正常
- [ ] `Ctrl + Shift + Z` / `Ctrl + Y` 重做功能正常
- [ ] `Ctrl + O` 打开文件（如果实现）
- [ ] `Ctrl + N` 新建文件（如果实现）
- [ ] 确认没有与系统快捷键冲突

---

## ✅ UI/UX 测试

### 5. 视图模式

- [ ] 仅编辑模式正常
- [ ] 仅预览模式正常
- [ ] 分栏模式正常
- [ ] 视图模式切换记忆（重启后保持）

### 6. 主题切换

- [ ] 暗色主题正常显示
- [ ] 亮色主题正常显示（如果实现）
- [ ] 编辑器语法高亮在两种主题下都正常
- [ ] 预览面板样式在两种主题下都正常

### 7. 设置功能

- [ ] 设置模态框正常打开/关闭
- [ ] 字体大小调节后编辑器实时更新
- [ ] 字体家族切换后编辑器正常渲染
- [ ] 自动保存开关生效
- [ ] 设置重启后保持

---

## ✅ 安装与卸载测试

### 8. Windows 安装程序

- [ ] NSIS 安装程序正常生成
- [ ] 安装过程无错误
- [ ] 桌面快捷方式创建成功
- [ ] 开始菜单快捷方式创建成功
- [ ] 应用能正常启动

### 9. Windows 集成

- [ ] 文件关联：双击 `.md` 文件能用 0xNote 打开
- [ ] 右键菜单：文件夹空白处右键有"新建 Markdown 笔记"
- [ ] 右键菜单：`.md` 文件右键有"使用 0xNote 编辑"
- [ ] 图标正确显示

### 10. 卸载测试

- [ ] 卸载程序正常执行
- [ ] 右键菜单项被清理
- [ ] 文件关联被清理
- [ ] 应用文件被完全删除

---

## ✅ 性能测试

### 11. 启动性能

- [ ] 冷启动时间 < 3 秒
- [ ] 热启动时间 < 1 秒
- [ ] 主进程内存占用 < 100MB
- [ ] 渲染进程内存占用 < 200MB

### 12. 编辑性能

- [ ] 输入响应无卡顿
- [ ] 滚动流畅（60 FPS）
- [ ] 预览渲染不阻塞编辑

---

## ✅ 安全测试

### 13. XSS 防护

- [ ] 在 Markdown 中插入 `<script>` 标签，预览不执行
- [ ] 在 Markdown 中插入 `onclick` 事件，预览不执行
- [ ] iframe 嵌入受控

### 14. 文件安全

- [ ] 应用不能访问用户未选择的文件
- [ ] 保存文件时不覆盖非目标文件

---

## ✅ 边界情况

### 15. 空状态

- [ ] 新建文件时编辑器正常显示
- [ ] 空文件打开正常
- [ ] 预览面板显示空状态提示

### 16. 网络离线

- [ ] 应用完全离线可用
- [ ] 字体加载失败时有 fallback

---

## 📊 测试结果汇总

| 类别       | 通过 | 失败 | 备注 |
| ---------- | ---- | ---- | ---- |
| 功能测试   | /4   |      |      |
| UI/UX 测试 | /3   |      |      |
| 安装卸载   | /3   |      |      |
| 性能测试   | /2   |      |      |
| 安全测试   | /2   |      |      |
| 边界情况   | /2   |      |      |

---

## 📝 发布前最终确认

- [ ] README.md 已更新
- [ ] CHANGELOG.md 已更新
- [ ] 版本号已递增 (package.json)
- [ ] 所有 TODO 已处理或记录
- [ ] 代码已提交并推送
- [ ] CI/CD 构建成功
- [ ] GitHub Release 草稿已创建
